<form action="{% url 'Carts:add' %}" method="POST">
    {% csrf_token %}
    <input type="hidden" name="product_id" value="{{ product.id_product }}">
    <div class="d-flex my-3">
        <button type="button" id="remove" class="shadow fw-bold btn" style="background-color: #F37828;">-</button>
        <input type="number" id="txtQuantity" value="1" class="text-center form-control border border-dark" name="txtQuantity" readonly>
        <button type="button" id="add" class="shadow fw-bold btn" style="background-color: #F37828;">+</button>
    </div>
    <div class="mt-2">
        {% if product.status != 0 or product.stock == 0 %}
            <button type="submit" class="shadow fw-bold btn btn-warning disabled">AÃ±adir al carrito ðŸ›’</button>
        {% else %}
            <button type="submit" id="btnAddToCar" class="shadow fw-bold btn btn-warning">AÃ±adir al carrito ðŸ›’</button>
        {% endif %}
    </div>
</form>

<script type="text/javascript">
    const add = document.getElementById("add")
    const remove = document.getElementById("remove")
    const quantity = document.getElementById("txtQuantity")

    add.addEventListener("click", ()=>{
        if (quantity.value < {{product.stock}}) {
            quantity.value= parseInt(quantity.value)+1
        }
    })
    remove.addEventListener("click", ()=>{
        value = parseInt(quantity.value)
        if(value != 1){
            value -= 1
        }
        quantity.value = value
    })
</script>

